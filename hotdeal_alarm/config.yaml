name: Hotdeal Alarm
slug: hotdeal_alarm
version: "1.1.6"
description: "핫딜 게시판 모니터링 + 알림(텔레그램/디스코드/HA)"
arch: [amd64, aarch64, armv7]
startup: services
boot: auto
init: false
homeassistant_api: true

options:
  interval_min: 1
  # state(중복방지/캐시/실패카운트) 크기 제한
  # 첫 페이지에서 수집된 글 개수의 몇 배까지 유지할지 (권장: 1.5)
  state_keep_factor: 1.5

  # 첫 페이지 글이 적은 경우를 대비한 최소 유지 개수
  state_keep_min: 50


  # 사이트/게시판 선택
  use_site_ppomppu: false
  use_board_ppomppu_ppomppu: false
  use_board_ppomppu_ppomppu4: false
  use_board_ppomppu_ppomppu8: false
  use_board_ppomppu_money: false

  use_site_clien: false
  use_board_clien_allsell: false
  use_board_clien_jirum: false

  use_site_ruriweb: false
  use_board_ruriweb_1020: false
  use_board_ruriweb_600004: false

  # (원본에는 있으나 현재 main.py에 스크랩 구현이 없으면 표시만 됨)
  use_site_coolenjoy: false
  use_board_coolenjoy_jirum: false

  use_site_quasarzone: false
  use_board_quasarzone_qb_saleinfo: false

  # 알림 정책
  use_hotdeal_alarm: true
  use_hotdeal_keyword_alarm: false
  use_hotdeal_keyword_alarm_dist: false
  hotdeal_alarm_keyword: ""

  alarm_message_template: "`{title}`\n{url}\n{mall_url}"

  # 텔레그램
  telegram_enable: false
  telegram_bot_token: ""
  telegram_chat_id: ""

  # 디스코드
  discord_enable: false
  discord_webhook_url: ""

  # HA푸시
  ha_notify_enable: false
  ha_notify_service: "notify.notify"   # 예: notify.mobile_app_내폰 / notify.notify / notify.가족 등


schema:
  interval_min: int(1,)
  state_keep_factor: float(1.0,)
  state_keep_min: int(10,)


  use_site_ppomppu: bool
  use_board_ppomppu_ppomppu: bool
  use_board_ppomppu_ppomppu4: bool
  use_board_ppomppu_ppomppu8: bool
  use_board_ppomppu_money: bool

  use_site_clien: bool
  use_board_clien_allsell: bool
  use_board_clien_jirum: bool

  use_site_ruriweb: bool
  use_board_ruriweb_1020: bool
  use_board_ruriweb_600004: bool

  use_site_coolenjoy: bool
  use_board_coolenjoy_jirum: bool

  use_site_quasarzone: bool
  use_board_quasarzone_qb_saleinfo: bool

  use_hotdeal_alarm: bool
  use_hotdeal_keyword_alarm: bool
  use_hotdeal_keyword_alarm_dist: bool
  hotdeal_alarm_keyword: str

  alarm_message_template: str

  telegram_enable: bool
  telegram_bot_token: password
  telegram_chat_id: str?

  discord_enable: bool
  discord_webhook_url: password

  ha_notify_enable: bool
  ha_notify_service: str

